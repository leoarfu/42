<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, shrink-to-fit=no">
<title>Q2 ‚Äì Orbital Mechanics & Constellations 101 ‚Ä¢ LEOAF</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
* { box-sizing:border-box; margin:0; padding:0; }
body { background:#000; color:#f0f0f0; font-family:'Inter',sans-serif; line-height:1.65; min-height:100vh; }
#starsCanvas { position:fixed; inset:0; z-index:-1; }

/* Solid opaque header */
header {
    background:#000;
    border-bottom:1px solid #ff004f33;
    position:sticky; top:0; z-index:100;
    padding:1rem clamp(1.5rem,5vw,4rem);
    display:flex; justify-content:space-between; align-items:center;
    box-shadow:0 4px 16px #0008;
}
.nav-left { display:flex; align-items:center; gap:2rem; }
.logo { font-family:'Orbitron',sans-serif; font-size:clamp(1.4rem,4vw,2rem); font-weight:800; letter-spacing:3px; text-decoration:none; }
.logo span:first-child { color:#fff; }
.logo span:last-child { color:#ff004f; }
.back-dashboard { color:#00d9ff; font-size:0.95rem; text-decoration:none; }
.back-dashboard:hover { color:#39ff14; text-decoration:underline; }
.logoff-btn {
    background:transparent; border:1px solid #ff004f; color:#ff004f;
    padding:0.5rem 1rem; font-size:0.85rem; cursor:pointer; border-radius:4px;
}
.logoff-btn:hover { background:#ff004f; color:#000; }

/* Content ‚Äì safe from header */
.content { max-width:960px; margin:0 auto; padding:clamp(100px,12vh,140px) 1.5rem 4rem; }
h1 { font-family:'Orbitron',sans-serif; font-size:clamp(2.2rem,6vw,3.6rem); text-align:center; margin-bottom:1.5rem; letter-spacing:1px; color:#00d9ff; }

/* Quarter-level checkbox (top-right, visual only) */
.check-container {
    position:absolute; top:clamp(110px,13vh,150px); right:1.5rem;
    display:flex; align-items:center; gap:0.8rem; pointer-events:none;
}
.check-label { font-size:0.95rem; color:#aaa; }
.custom-checkbox {
    width:32px; height:32px; border:2px solid #ff004f; border-radius:6px;
    display:flex; align-items:center; justify-content:center; background:transparent;
}
.custom-checkbox.checked { border-color:#39ff14; background:rgba(57,255,20,0.25); }
.custom-checkbox.checked::after { content:'üöÄ'; font-size:1.2rem; }

/* Cards */
.section-card {
    background:rgba(255,255,255,0.025); border:1px solid rgba(0,217,255,0.15);
    border-radius:12px; padding:2rem; margin:2.5rem 0; box-shadow:0 4px 20px #0008;
}
.section-card h2 { font-family:'Orbitron',sans-serif; color:#00d9ff; font-size:1.55rem; margin-bottom:1.2rem; }

/* Accordions */
.accordion-header {
    background:rgba(0,217,255,0.06); padding:1.1rem 1.4rem; border-radius:8px;
    margin:1rem 0; cursor:pointer; display:flex; align-items:center; gap:1rem;
    transition:all 0.2s ease;
}
.accordion-header:hover { background:rgba(0,217,255,0.12); transform:translateX(6px); }
.accordion-header.active { background:rgba(57,255,20,0.12); }
.accordion-header .check-small { width:26px; height:26px; flex-shrink:0; pointer-events:none; }
.custom-checkbox-small {
    width:22px; height:22px; border:2px solid #888; border-radius:4px;
    display:flex; align-items:center; justify-content:center;
}
.custom-checkbox-small.checked { border-color:#39ff14; background:rgba(57,255,20,0.25); }
.custom-checkbox-small.checked::after { content:'‚úì'; color:#39ff14; font-weight:bold; }
.accordion-header h3 { margin:0; font-size:1.15rem; flex:1; }

.accordion-content {
    display:none; padding:1.8rem 1.6rem; background:rgba(0,0,0,0.35);
    border-radius:0 0 8px 8px; border:1px solid rgba(57,255,20,0.2); margin-top:-8px;
}
.equation { font-family:monospace; background:#111; padding:1.2rem; border-radius:8px; margin:1.2rem 0; color:#00d9ff; line-height:1.4; }
.code-snippet { background:#0a0a0a; padding:1rem; border-radius:6px; font-family:monospace; font-size:0.93rem; overflow-x:auto; margin:1.2rem 0; border-left:4px solid #39ff14; }
.takeaway { background:rgba(57,255,20,0.08); border-left:4px solid #39ff14; padding:1rem; border-radius:6px; margin:1.5rem 0; font-style:italic; }
.mark-done-btn { margin-top:1.8rem; padding:0.75rem 1.6rem; background:rgba(57,255,20,0.2); border:none; border-radius:6px; color:#fff; cursor:pointer; }
.mark-done-btn:hover { background:rgba(57,255,20,0.5); }
.mission-note { text-align:center; margin:6rem 0 3rem; font-size:1.05rem; color:#00d9ff88; font-style:italic; }
</style>
</head>
<body>

<canvas id="starsCanvas"></canvas>

<header>
    <div class="nav-left">
        <a href="dashboard.html" class="logo"><span>LEO</span><span>AF</span></a>
        <a href="dashboard.html" class="back-dashboard">‚Üê Mission Dashboard</a>
    </div>
    <button id="logoffBtn" class="logoff-btn">ABORT</button>
</header>

<div class="content">

    <h1>Q2 ‚Äì Orbital Mechanics & Constellations 101</h1>

    <div class="check-container" id="quarterCheck">
        <div class="check-wrapper"><div class="custom-checkbox"></div></div>
        <span class="check-label">MARK QUARTER COMPLETE</span>
    </div>

    <div class="section-card">
        <h2>üéØ What you'll master this quarter</h2>
        <p>GEO satellites sit still. LEO satellites scream around Earth ~15 times a day. This quarter makes that fast motion feel natural ‚Äî with real simulations you can run today.</p>
    </div>

    <div class="section-card">
        <h2>Core Topics ‚Äì click any header to expand üöÄ</h2>

        <!-- FULLY DEVELOPED SECTION 1 -->
        <div class="accordion-header" data-target="topic1">
            <div class="check-small" data-id="q2_topic1"><div class="custom-checkbox-small"></div></div>
            <h3>1. Newton‚Äôs law of gravitation & centripetal force balance</h3>
        </div>
        <div id="topic1" class="accordion-content">
            <h4>Why this section exists</h4>
            <p>This is ground zero for understanding orbits. Every LEO challenge (handovers every 5‚Äì10 min, huge constellations, strong Doppler, short passes) comes from satellites moving very fast. This equation explains why.</p>

            <h4>The physics ‚Äì coffee cup vs satellite</h4>
            <p>Gravity pulls the satellite toward Earth‚Äôs center. Its forward speed tries to make it fly straight off into space. When these two forces are perfectly balanced ‚Üí stable circular orbit.</p>

            <div class="equation">
                Gravitational force = Centripetal force<br>
                G √ó M_earth √ó m / r¬≤  =  m √ó v¬≤ / r
            </div>

            <p>The satellite mass (m) cancels out ‚Äî nice! So orbital velocity becomes:</p>
            <div class="equation">v = ‚àö(G M_earth / r)</div>

            <h4>Real numbers ‚Äì LEO vs GEO</h4>
            <table style="width:100%; margin:1.5rem 0; background:#111; border-radius:8px; overflow:hidden; font-size:0.95rem;">
                <tr style="background:#1a1a1a;"><th style="padding:12px;">Orbit</th><th>Altitude</th><th>Speed</th><th>Period</th><th>Orbits/day</th></tr>
                <tr><td style="padding:12px;">Starlink LEO</td><td>~550 km</td><td>7.67 km/s</td><td>95.6 min</td><td>15.1</td></tr>
                <tr><td style="padding:12px;">ISS</td><td>~400 km</td><td>7.66 km/s</td><td>92.7 min</td><td>15.5</td></tr>
                <tr><td style="padding:12px;">GEO</td><td>35,786 km</td><td>3.07 km/s</td><td>24 h</td><td>1</td></tr>
            </table>

            <h4>What this means in real life</h4>
            <ul>
                <li>A LEO satellite circles Earth ~15√ó per day ‚Üí it disappears over your horizon in minutes.</li>
                <li>Your aircraft terminal must switch satellites constantly (handovers) ‚Üí that‚Äôs why phased arrays and predictive routing exist.</li>
                <li>GEO satellites stay fixed ‚Üí zero handovers, but latency ~600 ms (bad for video calls, gaming, ATC).</li>
                <li>LEO latency ~20‚Äì40 ms ‚Üí game changer for aviation internet, but requires thousands of satellites.</li>
            </ul>

            <div class="takeaway">
                <strong>One-sentence takeaway:</strong> Lower altitude = dramatically faster satellites = you need many more of them to keep coverage continuous. That single fact explains why Starlink has ~9,800 satellites in orbit (Feb 2026) while a GEO broadband system needs only 3‚Äì5.
            </div>

            <h4>Try it yourself ‚Äì copy-paste & run</h4>
            <div class="code-snippet">
import math

G = 6.67430e-11          # m¬≥ kg‚Åª¬π s‚Åª¬≤
M_earth = 5.972e24       # kg
R_earth = 6371000        # m

def orbital_velocity(altitude_km):
    r = R_earth + altitude_km * 1000
    return math.sqrt(G * M_earth / r) / 1000   # km/s

print("550 km LEO speed :", round(orbital_velocity(550), 2), "km/s")
print("GEO speed       :", round(orbital_velocity(35786), 2), "km/s")
            </div>
            <p><strong>How to run it (3 easy ways):</strong></p>
            <ol style="margin-left:1.5rem; color:#ccc;">
                <li><strong>Fastest:</strong> Go to <a href="https://replit.com/languages/python3" target="_blank" style="color:#00d9ff;">replit.com</a> ‚Üí paste ‚Üí click Run</li>
                <li><strong>Best for learning:</strong> <a href="https://colab.research.google.com" target="_blank" style="color:#00d9ff;">colab.research.google.com</a> ‚Üí New notebook ‚Üí paste in a cell ‚Üí Shift+Enter</li>
                <li><strong>Local:</strong> Save as orbit_speed.py ‚Üí run with python orbit_speed.py</li>
            </ol>
            <p>Change 550 to 1200 or 35786 and watch how speed drops as altitude increases.</p>

            <button class="mark-done-btn">I've studied & ran it ‚Äì mark complete</button>
        </div>

        <!-- Remaining accordions (placeholders) -->
        <div class="accordion-header" data-target="topic2">
            <div class="check-small" data-id="q2_topic2"><div class="custom-checkbox-small"></div></div>
            <h3>2. Kepler‚Äôs third law ‚Äì orbital period vs altitude</h3>
        </div>
        <div id="topic2" class="accordion-content">
            <p>Coming soon ‚Äì expand me the same way as topic 1 üåå</p>
        </div>

        <div class="accordion-header" data-target="topic3">
            <div class="check-small" data-id="q2_topic3"><div class="custom-checkbox-small"></div></div>
            <h3>3. Satellite visibility cone & pass duration</h3>
        </div>
        <div id="topic3" class="accordion-content">
            <p>Coming soon ‚Äì expand me the same way as topic 1 üåå</p>
        </div>

        <div class="accordion-header" data-target="topic4">
            <div class="check-small" data-id="q2_topic4"><div class="custom-checkbox-small"></div></div>
            <h3>4. LEO ground tracks & nodal precession (J‚ÇÇ effect)</h3>
        </div>
        <div id="topic4" class="accordion-content">
            <p>Coming soon ‚Äì expand me the same way as topic 1 üåå</p>
        </div>

        <div class="accordion-header" data-target="topic5">
            <div class="check-small" data-id="q2_topic5"><div class="custom-checkbox-small"></div></div>
            <h3>5. Visibility, passes & handover frequency</h3>
        </div>
        <div id="topic5" class="accordion-content">
            <p>Coming soon ‚Äì expand me the same way as topic 1 üåå</p>
        </div>

        <div class="accordion-header" data-target="topic6">
            <div class="check-small" data-id="q2_topic6"><div class="custom-checkbox-small"></div></div>
            <h3>6. Constellation fundamentals (Walker patterns, streets-of-coverage)</h3>
        </div>
        <div id="topic6" class="accordion-content">
            <p>Coming soon ‚Äì expand me the same way as topic 1 üåå</p>
        </div>

        <div class="accordion-header" data-target="topic7">
            <div class="check-small" data-id="q2_topic7"><div class="custom-checkbox-small"></div></div>
            <h3>7. Tools & data sources (SGP4, TLEs, Celestrak, Skyfield, Poliastro)</h3>
        </div>
        <div id="topic7" class="accordion-content">
            <p>Coming soon ‚Äì expand me the same way as topic 1 üåå</p>
        </div>

    </div>

    <div class="section-card">
        <h2>üìö Best free resources</h2>
        <ul>
            <li>MIT OCW ‚Äì Aerospace orbital mechanics lectures</li>
            <li>YouTube ‚Äì Prof. Shane Ross Orbital Mechanics playlist</li>
            <li>Fundamentals of Astrodynamics (free PDF excerpts, Ch 1‚Äì4)</li>
            <li>Poliastro & Skyfield Python tutorials</li>
            <li>NASA GMAT ‚Äì free tool + beginner guides</li>
        </ul>
    </div>

    <div class="section-card">
        <h2>üõ†Ô∏è Hands-on this quarter</h2>
        <ul>
            <li>Ground-track plot of a real satellite</li>
            <li>Visibility passes over Toulouse for 1 week</li>
            <li>LEO vs GEO velocity & period comparison</li>
            <li>GitHub folder: /q2-orbital-mechanics</li>
        </ul>
    </div>

    <div class="mission-note">
        Motion is the biggest difference between GEO and LEO.<br>
        Nail it here ‚Üí command constellations later. üåå
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
// Supabase Auth
const supabaseUrl = 'https://kpkpptqtuuhnbdntuluc.supabase.co';
const supabaseKey = 'sb_publishable_aws8RQ085UqKFBUWfojluQ_o9R9WKBb';
const { createClient } = supabase;
const client = createClient(supabaseUrl, supabaseKey);

document.getElementById('logoffBtn').addEventListener('click', async () => {
    await client.auth.signOut();
    window.location.href = "index.html";
});

// Quarter completion (visual only ‚Äì controlled from inside topics)
const quarterCheck = document.getElementById('quarterCheck');
const quarterId = 'q2-orbital-mechanics';

function updateQuarterVisual() {
    const allChecked = document.querySelectorAll('.custom-checkbox-small.checked').length === document.querySelectorAll('.check-small').length;
    if (allChecked) {
        quarterCheck.querySelector('.custom-checkbox').classList.add('checked');
        localStorage.setItem(`leoaf_${quarterId}`, 'true');
    } else {
        quarterCheck.querySelector('.custom-checkbox').classList.remove('checked');
        localStorage.removeItem(`leoaf_${quarterId}`);
    }
}

// Accordion + per-topic completion
document.querySelectorAll('.accordion-header').forEach(header => {
    header.addEventListener('click', e => {
        if (e.target.closest('.check-small')) return;
        const target = document.getElementById(header.dataset.target);
        const open = target.style.display === 'block';
        target.style.display = open ? 'none' : 'block';
        header.classList.toggle('active', !open);
    });
});

document.querySelectorAll('.mark-done-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        const content = btn.closest('.accordion-content');
        const header = content.previousElementSibling;
        const cb = header.querySelector('.custom-checkbox-small');
        const id = header.querySelector('.check-small')?.dataset.id;

        cb?.classList.toggle('checked');
        localStorage.setItem(`leoaf_${id}`, cb?.classList.contains('checked'));
        updateQuarterVisual();
    });
});

// Restore saved states
document.querySelectorAll('.check-small').forEach(el => {
    const id = el.dataset.id;
    if (localStorage.getItem(`leoaf_${id}`) === 'true') {
        el.querySelector('.custom-checkbox-small')?.classList.add('checked');
    }
});
updateQuarterVisual();

// Optional stars (remove canvas + this block if unwanted)
const canvas = document.getElementById('starsCanvas');
if (canvas) {
    const ctx = canvas.getContext('2d');
    let stars = [];
    function init(){ canvas.width = window.innerWidth; canvas.height = window.innerHeight; stars = []; for(let i=0;i<300;i++) stars.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, size:Math.random()*1.2+0.3, speed:Math.random()*0.4+0.1}); }
    function animate(){ ctx.fillStyle='rgba(0,0,0,0.12)'; ctx.fillRect(0,0,canvas.width,canvas.height); stars.forEach(s=>{ s.y += s.speed; if(s.y>canvas.height) s.y=0; ctx.fillStyle='#fff'; ctx.fillRect(s.x,s.y,s.size,s.size); }); requestAnimationFrame(animate); }
    init(); animate(); window.addEventListener('resize', init);
}
</script>
</body>
</html>
